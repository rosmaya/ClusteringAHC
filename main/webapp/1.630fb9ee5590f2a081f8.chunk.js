webpackJsonp([1],{1023:function(module,exports,__webpack_require__){"use strict";var core_1=__webpack_require__(0),common_1=__webpack_require__(16),forms_1=__webpack_require__(14),error_handler_1=__webpack_require__(1024),nga_module_1=__webpack_require__(394),rekammedis_component_1=__webpack_require__(1034),rekammedis_service_1=__webpack_require__(1035),rekammedis_routing_1=__webpack_require__(1041),ng2_bootstrap_1=__webpack_require__(580),PenjualanModule=function(){function PenjualanModule(){}return PenjualanModule=__decorate([core_1.NgModule({imports:[common_1.CommonModule,forms_1.FormsModule,forms_1.ReactiveFormsModule,nga_module_1.NgaModule,ng2_bootstrap_1.ModalModule,rekammedis_routing_1.routing],declarations:[rekammedis_component_1.RekamMedisComponent],providers:[rekammedis_service_1.RekamMedisService,error_handler_1.ErrorHandler]}),__metadata("design:paramtypes",[])],PenjualanModule)}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=PenjualanModule},1024:function(module,exports,__webpack_require__){"use strict";var core_1=__webpack_require__(0),ErrorHandler=function(){function ErrorHandler(){}return ErrorHandler.prototype.handleError=function(error){},ErrorHandler=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],ErrorHandler)}();exports.ErrorHandler=ErrorHandler},1025:function(module,exports){"use strict";var Pagination=function(){function Pagination(total,currentPage){if(this.pages=[],this.totalPages=Math.ceil(total/10),this.totalPages<=5)this.startPage=1,this.endPage=this.totalPages;else{var c2=+currentPage+2;currentPage<=3?(this.startPage=1,this.endPage=5):c2>=this.totalPages?(this.startPage=this.totalPages-4,this.endPage=this.totalPages):(this.startPage=+currentPage-2,this.endPage=+currentPage+2)}for(var i=this.startPage;i<=this.endPage;i++)this.pages.push(i)}return Pagination}();exports.Pagination=Pagination},1034:function(module,exports,__webpack_require__){"use strict";var core_1=__webpack_require__(0),forms_1=__webpack_require__(14),modal_component_1=__webpack_require__(170),error_handler_1=__webpack_require__(1024),pagination_1=__webpack_require__(1025),rekammedis_service_1=__webpack_require__(1035),RekamMedisComponent=function(){function RekamMedisComponent(rekamMedisService,errorHandler,fb){this.rekamMedisService=rekamMedisService,this.errorHandler=errorHandler,this.createButton="Save",this.errorExcelFile=!1,this.loadingStatus=!0,this.rekamMedisService.checkLogin(),this.getRekamMedis(1),this.currentPage=1,this.formPage=fb.group({page:["",forms_1.Validators.compose([forms_1.Validators.required,forms_1.Validators.pattern("[1-9][0-9]*")])]}),this.formExcel=fb.group({excelChoosedUF:["",forms_1.Validators.compose([forms_1.Validators.required])]}),this.formDetail=fb.group({tanggal:["",forms_1.Validators.compose([forms_1.Validators.required])],noUrut:["",forms_1.Validators.compose([forms_1.Validators.required])],noBpjs:["",forms_1.Validators.compose([forms_1.Validators.required])],noRm:["",forms_1.Validators.compose([forms_1.Validators.required])],nama:["",forms_1.Validators.compose([forms_1.Validators.required])],umur:["",forms_1.Validators.compose([forms_1.Validators.required])],kelompokUmur:["",forms_1.Validators.compose([forms_1.Validators.required])],jk:["",forms_1.Validators.compose([forms_1.Validators.required])],namaKk:["",forms_1.Validators.compose([forms_1.Validators.required])],umurKk:["",forms_1.Validators.compose([forms_1.Validators.required])],gakin:["",forms_1.Validators.compose([forms_1.Validators.required])],desa:["",forms_1.Validators.compose([forms_1.Validators.required])],rtRw:["",forms_1.Validators.compose([forms_1.Validators.required])],poli:["",forms_1.Validators.compose([forms_1.Validators.required])],status:["",forms_1.Validators.compose([forms_1.Validators.required])],diagnosa:["",forms_1.Validators.compose([forms_1.Validators.required])],dokter:["",forms_1.Validators.compose([forms_1.Validators.required])],rujukan:["",forms_1.Validators.compose([forms_1.Validators.required])],spesialis:["",forms_1.Validators.compose([forms_1.Validators.required])],resep:["",forms_1.Validators.compose([forms_1.Validators.required])]})}return RekamMedisComponent.prototype.getRekamMedis=function(pageNumber){var _this=this;this.loadingStatus=!0,this.rekamMedisService.getRekamMedis(pageNumber).subscribe(function(rekammedis){_this.rekammedis=rekammedis,_this.rekamMedisService.getCount().subscribe(function(count){_this.count=count,_this.currentPage=pageNumber,_this.formPage.setValue({page:pageNumber}),_this.pagination=new pagination_1.Pagination(_this.count,_this.currentPage),_this.loadingStatus=!1},_this.errorHandler.handleError)},this.errorHandler.handleError)},RekamMedisComponent.prototype.loadPage=function(event){var target=event.target||event.srcElement||event.currentTarget;this.currentPage=target.innerText,this.getRekamMedis(this.currentPage)},RekamMedisComponent.prototype.fileChoosedU=function(menu){var files=menu.target.files||menu.srcElement.files;this.fileU=files[0],this.formExcel.patchValue({excelChoosedUF:"done"})},RekamMedisComponent.prototype.showExcelModal=function(){this.excelModal.show()},RekamMedisComponent.prototype.hideExcelModal=function(){this.excelModal.hide()},RekamMedisComponent.prototype.updateMenuFile=function(penj){var _this=this;this.loadingStatus=!0,this.createButton="Please wait",this.rekamMedisService.excel(this.fileU).subscribe(function(response){_this.hideExcelModal(),_this.response=response,_this.getRekamMedis(_this.currentPage)},function(error){_this.errorExcelFile=!0,_this.createButton="Save",_this.loadingStatus=!1})},RekamMedisComponent.prototype.showDetailModal=function(){this.detailModal.show()},RekamMedisComponent.prototype.hideDetailModal=function(){this.detailModal.hide()},RekamMedisComponent.prototype.detail=function(event){var _this=this,target=event.target||event.srcElement||event.currentTarget,id=target.attributes.id.nodeValue;this.loadingStatusDetail=!0,this.showDetailModal(),this.rekamMedisService.getSingleProduk(id).subscribe(function(rm){_this.formDetail.setValue({tanggal:rm.tanggal,noUrut:rm.noUrut,noBpjs:rm.noBpjs,noRm:rm.noRm,nama:rm.nama,umur:rm.umur,kelompokUmur:rm.kelompokUmur,jk:rm.jk,namaKk:rm.namaKk,umurKk:rm.umurKk,gakin:rm.gakin,desa:rm.desa,rtRw:rm.rtRw,poli:rm.poli,status:rm.status,diagnosa:rm.diagnosa,dokter:rm.dokter,rujukan:rm.rujukan,spesialis:rm.spesialis,resep:rm.resep}),_this.loadingStatusDetail=!1},function(error){_this.errorGetDetail=!0})},__decorate([core_1.ViewChild("excelModal"),__metadata("design:type","function"==typeof(_a="undefined"!=typeof modal_component_1.ModalDirective&&modal_component_1.ModalDirective)&&_a||Object)],RekamMedisComponent.prototype,"excelModal",void 0),__decorate([core_1.ViewChild("detailModal"),__metadata("design:type","function"==typeof(_b="undefined"!=typeof modal_component_1.ModalDirective&&modal_component_1.ModalDirective)&&_b||Object)],RekamMedisComponent.prototype,"detailModal",void 0),RekamMedisComponent=__decorate([core_1.Component({selector:"rekammedis",encapsulation:core_1.ViewEncapsulation.None,styles:[__webpack_require__(1046)],template:__webpack_require__(1051)}),__metadata("design:paramtypes",["function"==typeof(_c="undefined"!=typeof rekammedis_service_1.RekamMedisService&&rekammedis_service_1.RekamMedisService)&&_c||Object,"function"==typeof(_d="undefined"!=typeof error_handler_1.ErrorHandler&&error_handler_1.ErrorHandler)&&_d||Object,"function"==typeof(_e="undefined"!=typeof forms_1.FormBuilder&&forms_1.FormBuilder)&&_e||Object])],RekamMedisComponent);var _a,_b,_c,_d,_e}();exports.RekamMedisComponent=RekamMedisComponent},1035:function(module,exports,__webpack_require__){"use strict";var core_1=__webpack_require__(0),http_1=__webpack_require__(83),default_service_1=__webpack_require__(393),RekamMedisService=function(_super){function RekamMedisService(http){_super.call(this,http),this.http=http}return __extends(RekamMedisService,_super),RekamMedisService.prototype.getRekamMedis=function(page){return _super.prototype.get.call(this,"rest/rekam-medis/"+10*(page-1)+"/10")},RekamMedisService.prototype.excel=function(file){return _super.prototype.postFile.call(this,"file",file,"rest/rekam-medis/excel")},RekamMedisService.prototype.getCount=function(){return _super.prototype.get.call(this,"rest/rekam-medis/count")},RekamMedisService.prototype.getSingleProduk=function(id){return _super.prototype.get.call(this,"rest/rekam-medis/"+id)},RekamMedisService=__decorate([core_1.Injectable(),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof http_1.Http&&http_1.Http)&&_a||Object])],RekamMedisService);var _a}(default_service_1.DefaultService);exports.RekamMedisService=RekamMedisService},1041:function(module,exports,__webpack_require__){"use strict";var router_1=__webpack_require__(60),rekammedis_component_1=__webpack_require__(1034),routes=[{path:"",component:rekammedis_component_1.RekamMedisComponent,children:[]}];exports.routing=router_1.RouterModule.forChild(routes)},1046:function(module,exports){module.exports="@media screen and (min-width: 1620px) {\n  .row.shift-up > * {\n    margin-top: -573px; } }\n\n@media screen and (max-width: 1620px) {\n  .card.feed-panel.large-card {\n    height: 824px; } }\n"},1051:function(module,exports){module.exports='<div class="row">\n  <div *ngIf="loadingStatus" style="text-align:center;">\n      <br/><br/><br/>\n    <img src="assets/img/logo-a.png"><br/>\n    <h2>Loading...</h2>\n  </div>\n  <div *ngIf="!loadingStatus">\n    <div class="align-right">\n      <button type="button" class="btn btn-primary btn-raised" (click)="showExcelModal()">Tambah/Update dari Excel</button>\n    </div><br/>\n    <div class="horizontal-scroll">\n      <table class="table table-hover">\n        <thead>\n        <tr class="black-muted-bg">\n          <th>Tanggal</th>\n          <th>No RM</th>\n          <th>Nama</th>\n          <th>Umur</th>\n          <th>Diagnosa</th>\n          <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor="let c of rekammedis" class="no-top-border">\n          <td>{{c.tanggal}}</td>\n          <td>{{c.noRm}}</td>\n          <td>{{c.nama}}</td>\n          <td>{{c.umur}}</td>\n          <td>{{c.diagnosa}}</td>\n          <td class="align-right">\n            <button type="button" class="btn btn-info btn-raised" #elem id={{c.id}} (click)="detail($event)">Detail</button>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <br/>\n    <div class="col-md-3">\n      <div class="btn-group" role="group">\n        <button *ngFor="let p of pagination.pages" type="button" class="btn btn-primary" (click)="loadPage($event)" [disabled]="currentPage == p">{{p}}</button>\n      </div>\n    </div>\n    <!--<div class="col-md-2">\n      <form [formGroup]="formPage" (ngSubmit)="getPenjualan(formPage.controls.page.value)">\n        <div class="input-group">\n          <input type="text" class="form-control" formControlName="page" placeholder="ke halaman...">\n          <span class="input-group-btn">\n              <button class="btn btn-primary" type="submit" [disabled]="!formPage.valid || loadingStatus">Go!</button>\n          </span>\n        </div>\n      </form>\n    </div>-->\n  </div>\n</div>\n<br/><br/><br/>\n\n<div bsModal #excelModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">\n  <div class="modal-dialog modal-md">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" (click)="hideExcelModal()" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Tambah Data Penjualan</h4>\n      </div>\n      <form [formGroup]="formExcel" (ngSubmit)="updateMenuFile(formExcel.value)">\n        <div class="modal-body">\n          <div [hidden]="!errorCreate" class="alert alert-danger">File TIdak Valid</div>\n          <div class="form-group">\n            <label>File Excel (xlsx)</label>\n            <input type="file" class="form-control" (change)="fileChoosedU($event)">\n          </div>\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-default btn-raised" (click)="hideExcelModal()" [disabled]="loadingStatus">Cancel</button>\n          <button type="button" class="btn btn-primary btn-raised" type="submit" [disabled]="!formExcel.valid || loadingStatus">{{createButton}}</button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n\n<div bsModal #detailModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">\n  <div class="modal-dialog modal-md">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" (click)="hideDetailModal()" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Detail Rekam Medis</h4>\n      </div>\n      <form [formGroup]="formDetail">\n        <div *ngIf="loadingStatusDetail" style="text-align:center;">\n          <br/><h3>Loading</h3><img src="assets/img/loading.svg"/>\n        </div>\n        <div *ngIf="!loadingStatusDetail" class="modal-body">\n          <div [hidden]="!errorGetDetail" class="alert alert-danger">Data tidak ditemukan</div>\n          <div class="form-group">\n            <label>Tanggal</label>\n            <input formControlName="tanggal" type="text" class="form-control" disabled="disabled">\n            <label>No Urut</label>\n            <input formControlName="noUrut" type="text" class="form-control" disabled="disabled">\n            <label>No BPJS</label>\n            <input formControlName="noBpjs" type="text" class="form-control" disabled="disabled">\n            <label>No Rekam Medis</label>\n            <input formControlName="noRm" type="text" class="form-control" disabled="disabled">\n            <label>Nama</label>\n            <input formControlName="nama" type="text" class="form-control" disabled="disabled">\n            <label>Umur</label>\n            <input formControlName="umur" type="text" class="form-control" disabled="disabled">\n            <label>Kelompok Umur</label>\n            <input formControlName="kelompokUmur" type="text" class="form-control" disabled="disabled">\n            <label>Jenis Kelamin</label>\n            <input formControlName="jk" type="text" class="form-control" disabled="disabled">\n            <label>Nama KK</label>\n            <input formControlName="namaKk" type="text" class="form-control" disabled="disabled">\n            <label>Umur KK</label>\n            <input formControlName="umurKk" type="text" class="form-control" disabled="disabled">\n            <label>GAKIN</label>\n            <input formControlName="gakin" type="text" class="form-control" disabled="disabled">\n            <label>Desa</label>\n            <input formControlName="desa" type="text" class="form-control" disabled="disabled">\n            <label>RT/RW</label>\n            <input formControlName="rtRw" type="text" class="form-control" disabled="disabled">\n            <label>Poli</label>\n            <input formControlName="poli" type="text" class="form-control" disabled="disabled">\n            <label>Status</label>\n            <input formControlName="status" type="text" class="form-control" disabled="disabled">\n            <label>Diagnosa</label>\n            <input formControlName="diagnosa" type="text" class="form-control" disabled="disabled">\n            <label>Dokter</label>\n            <input formControlName="dokter" type="text" class="form-control" disabled="disabled">\n            <label>Rujukan</label>\n            <input formControlName="rujukan" type="text" class="form-control" disabled="disabled">\n            <label>Spesialis</label>\n            <input formControlName="spesialis" type="text" class="form-control" disabled="disabled">\n            <label>Resep</label>\n            <input formControlName="resep" type="text" class="form-control" disabled="disabled">\n          </div>\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-default btn-raised" (click)="hideDetailModal()">Close</button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>'}});